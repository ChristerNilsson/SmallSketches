// Generated by CoffeeScript 1.12.7
var a, display, keyPressed, op1, op2, setup, stack;

a = 0;

stack = [];

setup = function() {
  createCanvas(310, 130);
  a = createInput();
  a.position(8, height + 10);
  a.size(width - 4);
  bg(0);
  textSize(30);
  return textAlign(LEFT, CENTER);
};

display = function() {
  var i, j, len, n, ref, results;
  bg(0);
  fc(1);
  n = stack.length;
  ref = range(4);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    if (i < n) {
      results.push(text(stack[n - 1 - i], 10, height - 20 - i * 30));
    } else {
      results.push(void 0);
    }
  }
  return results;
};

op1 = function(f) {
  return stack.push(f(stack.pop()));
};

op2 = function(f) {
  return stack.push(f(stack.pop(), stack.pop()));
};

keyPressed = function() {
  var cmd, cmds, j, len, x;
  if (keyCode !== ENTER) {
    return;
  }
  cmds = a.value().split(' ');
  a.value('');
  for (j = 0, len = cmds.length; j < len; j++) {
    cmd = cmds[j];
    switch (cmd) {
      case 'pi':
        stack.push(PI);
        break;
      case 'drp':
        stack.pop();
        break;
      case 'clr':
        stack = [];
        break;
      case '':
        x = stack.pop();
        stack.push(x);
        stack.push(x);
        break;
      case 'sq':
        op1(function(a) {
          return a * a;
        });
        break;
      case 'sin':
        op1(function(a) {
          return sin(radians(a));
        });
        break;
      case '+':
        op2(function(a, b) {
          return b + a;
        });
        break;
      case '*':
        op2(function(a, b) {
          return b * a;
        });
        break;
      case '-':
        op2(function(a, b) {
          return b - a;
        });
        break;
      case '/':
        op2(function(a, b) {
          return b / a;
        });
        break;
      default:
        stack.push(parseFloat(cmd));
    }
  }
  return display();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRvci5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxjYWxjdWxhdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxDQUFBLEdBQUk7O0FBQ0osS0FBQSxHQUFROztBQUVSLEtBQUEsR0FBUSxTQUFBO0VBQ1AsWUFBQSxDQUFhLEdBQWIsRUFBaUIsR0FBakI7RUFDQSxDQUFBLEdBQUksV0FBQSxDQUFBO0VBQ0osQ0FBQyxDQUFDLFFBQUYsQ0FBVyxDQUFYLEVBQWMsTUFBQSxHQUFTLEVBQXZCO0VBQ0EsQ0FBQyxDQUFDLElBQUYsQ0FBTyxLQUFBLEdBQU0sQ0FBYjtFQUNBLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsUUFBQSxDQUFTLEVBQVQ7U0FDQSxTQUFBLENBQVUsSUFBVixFQUFlLE1BQWY7QUFQTzs7QUFTUixPQUFBLEdBQVUsU0FBQTtBQUNULE1BQUE7RUFBQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsQ0FBQSxHQUFJLEtBQUssQ0FBQztBQUNWO0FBQUE7T0FBQSxxQ0FBQTs7SUFDQyxJQUFHLENBQUEsR0FBSSxDQUFQO21CQUNDLElBQUEsQ0FBSyxLQUFNLENBQUEsQ0FBQSxHQUFFLENBQUYsR0FBSSxDQUFKLENBQVgsRUFBbUIsRUFBbkIsRUFBdUIsTUFBQSxHQUFTLEVBQVQsR0FBYyxDQUFBLEdBQUUsRUFBdkMsR0FERDtLQUFBLE1BQUE7MkJBQUE7O0FBREQ7O0FBSlM7O0FBUVYsR0FBQSxHQUFNLFNBQUMsQ0FBRDtTQUFPLEtBQUssQ0FBQyxJQUFOLENBQVcsQ0FBQSxDQUFFLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0FBRixDQUFYO0FBQVA7O0FBQ04sR0FBQSxHQUFNLFNBQUMsQ0FBRDtTQUFPLEtBQUssQ0FBQyxJQUFOLENBQVcsQ0FBQSxDQUFFLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0FBRixFQUFlLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0FBZixDQUFYO0FBQVA7O0FBRU4sVUFBQSxHQUFhLFNBQUE7QUFDWixNQUFBO0VBQUEsSUFBVSxPQUFBLEtBQVcsS0FBckI7QUFBQSxXQUFBOztFQUNBLElBQUEsR0FBTyxDQUFDLENBQUMsS0FBRixDQUFBLENBQVMsQ0FBQyxLQUFWLENBQWdCLEdBQWhCO0VBQ1AsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxFQUFSO0FBQ0EsT0FBQSxzQ0FBQTs7QUFDQyxZQUFPLEdBQVA7QUFBQSxXQUNNLElBRE47UUFFRSxLQUFLLENBQUMsSUFBTixDQUFXLEVBQVg7QUFESTtBQUROLFdBR00sS0FITjtRQUlFLEtBQUssQ0FBQyxHQUFOLENBQUE7QUFESTtBQUhOLFdBS00sS0FMTjtRQU1FLEtBQUEsR0FBUTtBQURKO0FBTE4sV0FPTSxFQVBOO1FBUUUsQ0FBQSxHQUFJLEtBQUssQ0FBQyxHQUFOLENBQUE7UUFDSixLQUFLLENBQUMsSUFBTixDQUFXLENBQVg7UUFDQSxLQUFLLENBQUMsSUFBTixDQUFXLENBQVg7QUFISTtBQVBOLFdBV00sSUFYTjtRQVlFLEdBQUEsQ0FBSSxTQUFDLENBQUQ7aUJBQU8sQ0FBQSxHQUFFO1FBQVQsQ0FBSjtBQURJO0FBWE4sV0FhTSxLQWJOO1FBY0UsR0FBQSxDQUFJLFNBQUMsQ0FBRDtpQkFBTyxHQUFBLENBQUksT0FBQSxDQUFRLENBQVIsQ0FBSjtRQUFQLENBQUo7QUFESTtBQWJOLFdBZU0sR0FmTjtRQWdCRSxHQUFBLENBQUksU0FBQyxDQUFELEVBQUcsQ0FBSDtpQkFBUyxDQUFBLEdBQUU7UUFBWCxDQUFKO0FBREk7QUFmTixXQWlCTSxHQWpCTjtRQWtCRSxHQUFBLENBQUksU0FBQyxDQUFELEVBQUcsQ0FBSDtpQkFBUyxDQUFBLEdBQUU7UUFBWCxDQUFKO0FBREk7QUFqQk4sV0FtQk0sR0FuQk47UUFvQkUsR0FBQSxDQUFJLFNBQUMsQ0FBRCxFQUFHLENBQUg7aUJBQVMsQ0FBQSxHQUFFO1FBQVgsQ0FBSjtBQURJO0FBbkJOLFdBcUJNLEdBckJOO1FBc0JFLEdBQUEsQ0FBSSxTQUFDLENBQUQsRUFBRyxDQUFIO2lCQUFTLENBQUEsR0FBRTtRQUFYLENBQUo7QUFESTtBQXJCTjtRQXdCRSxLQUFLLENBQUMsSUFBTixDQUFXLFVBQUEsQ0FBVyxHQUFYLENBQVg7QUF4QkY7QUFERDtTQTBCQSxPQUFBLENBQUE7QUE5QlkiLCJzb3VyY2VzQ29udGVudCI6WyJhID0gMFxuc3RhY2sgPSBbXVxuXG5zZXR1cCA9IC0+XG5cdGNyZWF0ZUNhbnZhcyAzMTAsMTMwXG5cdGEgPSBjcmVhdGVJbnB1dCgpXG5cdGEucG9zaXRpb24gOCwgaGVpZ2h0ICsgMTBcblx0YS5zaXplIHdpZHRoLTRcblx0YmcgMFxuXHR0ZXh0U2l6ZSAzMFxuXHR0ZXh0QWxpZ24gTEVGVCxDRU5URVJcblxuZGlzcGxheSA9IC0+XG5cdGJnIDBcblx0ZmMgMVxuXHRuID0gc3RhY2subGVuZ3RoXG5cdGZvciBpIGluIHJhbmdlIDRcblx0XHRpZiBpIDwgblxuXHRcdFx0dGV4dCBzdGFja1tuLTEtaV0sIDEwLCBoZWlnaHQgLSAyMCAtIGkqMzBcblxub3AxID0gKGYpIC0+IHN0YWNrLnB1c2ggZiBzdGFjay5wb3AoKVxub3AyID0gKGYpIC0+IHN0YWNrLnB1c2ggZiBzdGFjay5wb3AoKSwgc3RhY2sucG9wKClcblxua2V5UHJlc3NlZCA9IC0+XG5cdHJldHVybiBpZiBrZXlDb2RlICE9IEVOVEVSXG5cdGNtZHMgPSBhLnZhbHVlKCkuc3BsaXQgJyAnXG5cdGEudmFsdWUgJydcblx0Zm9yIGNtZCBpbiBjbWRzXG5cdFx0c3dpdGNoIGNtZFxuXHRcdFx0d2hlbiAncGknXG5cdFx0XHRcdHN0YWNrLnB1c2ggUElcblx0XHRcdHdoZW4gJ2RycCdcblx0XHRcdFx0c3RhY2sucG9wKClcblx0XHRcdHdoZW4gJ2Nscidcblx0XHRcdFx0c3RhY2sgPSBbXVxuXHRcdFx0d2hlbiAnJ1xuXHRcdFx0XHR4ID0gc3RhY2sucG9wKClcblx0XHRcdFx0c3RhY2sucHVzaCB4XG5cdFx0XHRcdHN0YWNrLnB1c2ggeFxuXHRcdFx0d2hlbiAnc3EnXG5cdFx0XHRcdG9wMSAoYSkgLT4gYSphXG5cdFx0XHR3aGVuICdzaW4nXG5cdFx0XHRcdG9wMSAoYSkgLT4gc2luIHJhZGlhbnMgYVxuXHRcdFx0d2hlbiAnKycgXG5cdFx0XHRcdG9wMiAoYSxiKSAtPiBiK2Fcblx0XHRcdHdoZW4gJyonXG5cdFx0XHRcdG9wMiAoYSxiKSAtPiBiKmFcblx0XHRcdHdoZW4gJy0nXG5cdFx0XHRcdG9wMiAoYSxiKSAtPiBiLWFcblx0XHRcdHdoZW4gJy8nXG5cdFx0XHRcdG9wMiAoYSxiKSAtPiBiL2Fcblx0XHRcdGVsc2Vcblx0XHRcdFx0c3RhY2sucHVzaCBwYXJzZUZsb2F0IGNtZFxuXHRkaXNwbGF5KClcbiJdfQ==
//# sourceURL=C:\github\SmallSketches\coffee\calculator.coffee